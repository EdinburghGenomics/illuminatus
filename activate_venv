#!/bin/bash

# Bootstrap a new VEnv in ./_py3_venv suitable for running Illuminatus.
# This should probably be made into a setup.py with proper deployment etc.

# After running this once, I can do, eg.:
# ( cd ../genologics && python3 ./setup.py develop )
# and now I can tinker with the genologics code from my GIT checkout
# without impacting the system shared Python.

if [[ "$0" == "$BASH_SOURCE" ]] ; then
    echo "You need to source this file, not run it."
    exit 1
fi

if [ -e ./_py3_venv/bin/activate ] ; then
    source ./_py3_venv/bin/activate
else
    echo "Bootstrapping new VEnv from `which python3`"
    python3 -mvenv ./_py3_venv
    source ./_py3_venv/bin/activate

    pip3 install --upgrade pip
    pip3 install Rt
    pip3 install genologics
    pip3 install psycopg2
fi
